diff --git CMakeLists.txt CMakeLists.txt
index 4b9a5ff..edcda15 100644
--- CMakeLists.txt
+++ CMakeLists.txt
@@ -29,6 +29,7 @@ find_package(KF5Service ${KF5_DEP_VERSION} REQUIRED)
 
 include(ECMPackageConfigHelpers)
 include(ECMSetupVersion)
+include(ECMMarkNonGuiExecutable)
 
 ecm_setup_version(
   ${KF5_VERSION}
diff --git src/CMakeLists.txt src/CMakeLists.txt
index 5e95df8..f958e02 100644
--- src/CMakeLists.txt
+++ src/CMakeLists.txt
@@ -3,6 +3,7 @@ set(kded_KDEINIT_SRCS kded.cpp kdedadaptor.cpp
 )
 
 kf5_add_kdeinit_executable(kded5 ${kded_KDEINIT_SRCS})
+ecm_mark_nongui_executable(kded5)
 
 if (APPLE)
     set_target_properties(kded5 PROPERTIES MACOSX_BUNDLE_INFO_PLIST ${CMAKE_CURRENT_SOURCE_DIR}/Info.plist.template)
