diff --git src/runtime/kwallet-query/src/CMakeLists.txt src/runtime/kwallet-query/src/CMakeLists.txt
index 9ab9d9d..0fc3ba3 100644
--- src/runtime/kwallet-query/src/CMakeLists.txt
+++ src/runtime/kwallet-query/src/CMakeLists.txt
@@ -15,6 +15,10 @@ set(kwallet-query_SRCS
     querydriver.cpp)
 
 add_executable(kwallet-query ${kwallet-query_SRCS})
+if (APPLE)
+    include(ECMMarkNonGuiExecutable)
+    ecm_mark_nongui_executable(kwallet-query)
+endif ()
 
 TARGET_LINK_LIBRARIES(kwallet-query
     KF5Wallet
diff --git a/src/runtime/kwalletd/CMakeLists.txt b/src/runtime/kwalletd/CMakeLists.txt
index ba9e7ba..8d2b6e9 100644
--- src/runtime/kwalletd/CMakeLists.txt
+++ src/runtime/kwalletd/CMakeLists.txt
@@ -96,6 +96,10 @@ install(FILES ${CMAKE_CURRENT_SOURCE_DIR}/org.kde.kwalletd.service
         DESTINATION ${DBUS_SERVICES_INSTALL_DIR})
 
 add_executable( kwalletd5 ${kwalletd_SRCS} )
+if (APPLE)
+    include(ECMMarkNonGuiExecutable)
+    ecm_mark_nongui_executable(kwalletd5)
+endif ()
 
 target_link_libraries(kwalletd5
     kwalletbackend5
