--- cmake/FindUDev.cmake.orig	2015-11-08 13:41:10.000000000 +0100
+++ cmake/FindUDev.cmake	2015-11-17 19:22:54.823981728 +0100
@@ -2,8 +2,8 @@
 # Once done this will define
 #
 #  UDEV_FOUND - system has UDev
-#  UDEV_INCLUDE_DIR - the libudev include directory
-#  UDEV_LIBS - The libudev libraries
+#  UDEV_INCLUDEDIR - the libudev include directory
+#  UDEV_LIBRARIES - The libudev libraries
 
 # Copyright (c) 2010, Rafael Fernández López, <ereslibre@kde.org>
 #
@@ -31,20 +31,22 @@
 # OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 # SUCH DAMAGE.
 
-find_path(UDEV_INCLUDE_DIR libudev.h)
-find_library(UDEV_LIBS udev)
+include(FindPkgConfig)
+pkg_search_module(UDEV libudev)
+#find_path(UDEV_INCLUDE_DIR libudev.h)
+#find_library(UDEV_LIBS udev)
 
-if(UDEV_INCLUDE_DIR AND UDEV_LIBS)
+if(UDEV_INCLUDEDIR AND UDEV_LIBRARIES)
    include(CheckFunctionExists)
    include(CMakePushCheckState)
    cmake_push_check_state()
-   set(CMAKE_REQUIRED_LIBRARIES ${UDEV_LIBS} )
+   set(CMAKE_REQUIRED_LIBRARIES ${UDEV_LIBRARIES} )
 
    cmake_pop_check_state()
 
 endif()
 
 include(FindPackageHandleStandardArgs)
-find_package_handle_standard_args(UDev DEFAULT_MSG UDEV_INCLUDE_DIR UDEV_LIBS)
+find_package_handle_standard_args(UDev DEFAULT_MSG UDEV_INCLUDEDIR UDEV_LIBRARIES)
 
-mark_as_advanced(UDEV_INCLUDE_DIR UDEV_LIBS)
+mark_as_advanced(UDEV_INCLUDEDIR UDEV_LIBRARIES)
