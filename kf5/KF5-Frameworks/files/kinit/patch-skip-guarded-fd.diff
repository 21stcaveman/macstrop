diff --git src/kdeinit/kinit.cpp src/kdeinit/kinit.cpp
index 02ab7945489b24da9f77644fb9bb6359f8ae932e..97daced07c31f0f7673074236664dcbb37c88f3b 100644
--- src/kdeinit/kinit.cpp
+++ src/kdeinit/kinit.cpp
@@ -170,6 +170,9 @@ static void cleanup_fds()
     for (int fd = 3; fd < maxfd; ++fd) {
 #if KDEINIT_OOM_PROTECT
         if (fd != oom_pipe)
+#endif
+#ifdef Q_OS_MACOS
+        if (fd != 3)
 #endif
             close(fd);
     }
