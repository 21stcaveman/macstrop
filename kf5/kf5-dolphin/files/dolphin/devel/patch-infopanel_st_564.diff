commit 89a7b316d1a15aec405656ce4dca49463e803bff
Author: MÃ©ven Car <meven29@gmail.com>
Date:   Mon Nov 11 14:07:47 2019 +0100

    [Information Panel] Allows to refresh icon and metadata for urls such as trash:/
    
    Summary: CCBUG: 392882
    
    Test Plan:
    1. Create a file
    2. Remove it, so that it goes to the trash
    3. Open trash
    4. Empty trash
    
    Before:
    Information panel icon is still user-trash-full
    
    After:
    Information panel icon is changed to user-trash
    
    Reviewers: ngraham, #dolphin, elvisangelaccio
    
    Reviewed By: ngraham, #dolphin, elvisangelaccio
    
    Subscribers: kfm-devel
    
    Tags: #dolphin
    
    Differential Revision: https://phabricator.kde.org/D23668

diff --git b/src/panels/information/informationpanel.cpp a/src/panels/information/informationpanel.cpp
index 23e7f1922..e6c3bf32a 100644
--- b/src/panels/information/informationpanel.cpp
+++ a/src/panels/information/informationpanel.cpp
@@ -290,8 +290,8 @@ void InformationPanel::reset()
 
 void InformationPanel::slotFileRenamed(const QString& source, const QString& dest)
 {
-    if (m_shownUrl == QUrl::fromUserInput(source)) {
-        m_shownUrl = QUrl::fromUserInput(dest);
+    if (m_shownUrl == QUrl::fromLocalFile(source)) {
+        m_shownUrl = QUrl::fromLocalFile(dest);
         m_fileItem = KFileItem(m_shownUrl);
 
         if ((m_selection.count() == 1) && (m_selection[0].url() == QUrl::fromLocalFile(source))) {
@@ -308,10 +308,10 @@ void InformationPanel::slotFileRenamed(const QString& source, const QString& des
 
 void InformationPanel::slotFilesAdded(const QString& directory)
 {
-    if (m_shownUrl == QUrl::fromUserInput(directory)) {
+    if (m_shownUrl == QUrl::fromLocalFile(directory)) {
         // If the 'trash' icon changes because the trash has been emptied or got filled,
         // the signal filesAdded("trash:/") will be emitted.
-        KFileItem item(QUrl::fromUserInput(directory));
+        KFileItem item(QUrl::fromLocalFile(directory));
         requestDelayedItemInfo(item);
     }
 }
@@ -319,7 +319,7 @@ void InformationPanel::slotFilesAdded(const QString& directory)
 void InformationPanel::slotFilesChanged(const QStringList& files)
 {
     for (const QString& fileName : files) {
-        if (m_shownUrl == QUrl::fromUserInput(fileName)) {
+        if (m_shownUrl == QUrl::fromLocalFile(fileName)) {
             showItemInfo();
             break;
         }
@@ -329,7 +329,7 @@ void InformationPanel::slotFilesChanged(const QStringList& files)
 void InformationPanel::slotFilesRemoved(const QStringList& files)
 {
     for (const QString& fileName : files) {
-        if (m_shownUrl == QUrl::fromUserInput(fileName)) {
+        if (m_shownUrl == QUrl::fromLocalFile(fileName)) {
             // the currently shown item has been removed, show
             // the parent directory as fallback
             markUrlAsInvalid();
@@ -340,15 +340,15 @@ void InformationPanel::slotFilesRemoved(const QStringList& files)
 
 void InformationPanel::slotEnteredDirectory(const QString& directory)
 {
-    if (m_shownUrl == QUrl::fromUserInput(directory)) {
-        KFileItem item(QUrl::fromUserInput(directory));
+    if (m_shownUrl == QUrl::fromLocalFile(directory)) {
+        KFileItem item(QUrl::fromLocalFile(directory));
         requestDelayedItemInfo(item);
     }
 }
 
 void InformationPanel::slotLeftDirectory(const QString& directory)
 {
-    if (m_shownUrl == QUrl::fromUserInput(directory)) {
+    if (m_shownUrl == QUrl::fromLocalFile(directory)) {
         // The signal 'leftDirectory' is also emitted when a media
         // has been unmounted. In this case no directory change will be
         // done in Dolphin, but the Information Panel must be updated to
diff --git b/src/panels/information/informationpanelcontent.cpp a/src/panels/information/informationpanelcontent.cpp
index 5c1b7ae22..417ca709c 100644
--- b/src/panels/information/informationpanelcontent.cpp
+++ a/src/panels/information/informationpanelcontent.cpp
@@ -166,13 +166,12 @@ InformationPanelContent::~InformationPanelContent()
 
 void InformationPanelContent::showItem(const KFileItem& item)
 {
-    // compares item entries, comparing items only compares urls
-    if (m_item.entry() != item.entry()) {
+    if (item != m_item) {
         m_item = item;
+
         m_preview->stopAnimatedImage();
         refreshMetaData();
     }
-
     refreshPreview();
 }
 
