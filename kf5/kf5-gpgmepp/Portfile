# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

set kf5.project     gpgmepp
set kf5.virtualPath applications
PortGroup           kf5 1.1
kf5.use_latest      applications

maintainers         gmail.com:rjvbertin mk openmaintainer

description         C++ bindings/wrapper for gpgme
long_description    GpgME++ is a C++ wrapper (or C++ bindings) for the GnuPG project's \
                    gpgme (GnuPG Made Easy) library, version 0.4.4 and later.

checksums           rmd160  1cd6fdb7f4720a9f9623c5f410cb640eb24005bf \
                    sha256  0efb9c2c67dda9efa759dcc3b0a7a91549b8a68faf9ce146fed5f63d71a1bc79

# this port contains what is really a KF5 framework, so it has to copy certain things from the KF5-Frameworks port:
variant qspXDG conflicts nativeQSP description "Obsolete: switch Qt5's QStandardPaths to XDG-compliant mode (e.g. using ${prefix}/share)" {
}

platform darwin {
    if {![file exists ${qt_includes_dir}/QtCore/qextstandardpaths.h]} {
        ui_debug "We appear to be building against a Qt5 port that doesn't have the QSP patch from port:qt5-kde. Don't fight it, just warn."
        notes-append "You will be running KF5 applications with the stock/native Qt5::QStandardPaths behaviour.\
                     That is not the recommended configuration for this port."
    }
}

if {${os.platform} eq "darwin"} {
    depends_lib-append \
                    port:gpgme \
                    port:boost
}
