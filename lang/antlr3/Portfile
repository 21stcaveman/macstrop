# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem      1.0

name            antlr3
version         3.5.2
epoch           1
categories      lang java
platforms       darwin linux
maintainers     nomaintainer
supported_archs noarch

description     antlr is ANother Tool for Language Recognition
long_description \
                ANTLR, ANother Tool for Language Recognition, is a \
                language tool that provides a framework for \
                constructing recognizers, compilers, and translators \
                from grammatical descriptions containing Java, C#, or \
                C++ actions. 

homepage        http://www.antlr3.org/
master_sites    http://www.antlr3.org/download
extract.suffix
distname        antlr-3.5.2-complete.jar

extract.only

checksums       rmd160  516dfb4abfd9294ee0b4208acad29b4a6da6bd3b \
                sha256  26ca659f47d77384f518cf2b6463892fcd4f0b0d4d8c0de2addf697e63e7326b
#                 size    2456317

use_configure   no

# Source builds of antlr3 are not possible. So, the default build is a binary
# install of the jars.
build {}

destroot {
    xinstall -m 755 -d ${destroot}${prefix}/share/java/
    set jar ${prefix}/share/java/${distname}
    xinstall -m 644 ${distpath}/${distname} ${destroot}${jar}
    xinstall -m 755 ${filespath}/antlr3.sh ${destroot}${prefix}/bin/antlr3
    reinplace "s|@JAR@|${jar}|g" ${destroot}${prefix}/bin/antlr3
}
