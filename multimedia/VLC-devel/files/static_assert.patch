diff --git include/vlc_fixups.h include/vlc_fixups.h
index ee168d7..ca5d714 100644
--- include/vlc_fixups.h
+++ include/vlc_fixups.h
@@ -239,8 +239,8 @@ static inline locale_t newlocale(int mask, const char * locale, locale_t base)
 }
 #endif
 
-#if !defined (HAVE_STATIC_ASSERT) && !defined(__cpp_static_assert)
-# define _Static_assert(x, s) ((void) sizeof (struct { unsigned:-!(x); }))
+#if !defined (HAVE_STATIC_ASSERT) && !defined(__cpp_static_assert) && !defined (static_assert)
+# define _Static_assert(x, s) ((void) sizeof (struct { unsigned a[(x) ? 1 : -1];}))
 # define static_assert _Static_assert
 #endif
 
